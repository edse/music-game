var e,t,n,o=0,d=0,c=0,l=0,a=0,s=0,i=null,r=null,u=null,m=null,y=504,g=0,p=0,E=0,h=0,f=0,L=null;function w(){L=document.getElementById("video"),I(),f=L.duration;let e=window.getComputedStyle(document.getElementById("vwvh"));g=Math.round(String(e.width).replace("px","")),String(e.height).replace("px",""),h=Math.round(String((e=window.getComputedStyle(document.getElementById("timeline"))).width).replace("px","")),E=Math.round(String((e=window.getComputedStyle(document.querySelectorAll("#line")[0])).top).replace("px","")),p-=y-E,y=E,document.getElementById("map").style.transform="translateY("+p+"px)"}function v(o){let d,y;e=(o-t)/1e3,t=o,n=Math.round(1/e),document.getElementById("fps").innerText=n+" fps",d=100*L.currentTime/f,y=h/100*d-.75*g,document.getElementById("playhead").style.transform=`translate(${y}px, -35%)`,p+=7,document.getElementById("map").style.transform="translateY("+p+"px)",function(){if(0!==c&&i&&"object"==typeof i){var e=Math.round(p-c)+150;i.style.height=e+"px"}if(0!==l&&r&&"object"==typeof r){var e=Math.round(p-l)+150;r.style.height=e+"px"}if(0!==a&&u&&"object"==typeof u){var e=Math.round(p-a)+150;u.style.height=e+"px"}if(0!==s&&m&&"object"==typeof m){var e=Math.round(p-s)+150;m.style.height=e+"px"}}(),L.ended||L.paused?cancelAnimationFrame(v):requestAnimationFrame(v)}function B(){L.play(),document.getElementById("play-button").classList.add("hidden"),requestAnimationFrame(v)}function I(){L.pause(),cancelAnimationFrame(v)}function k(e){let t=document.createElement("div");switch(t.classList.add("block"),t.classList.add("player-block"),t.classList.add(`block-col-${e}`),t.style.bottom=Math.round(p-E-75)+"px",document.getElementById("map").appendChild(t),e){case 1:i=t;break;case 2:r=t;break;case 3:u=t;break;case 4:m=t}}function b(){document.getElementById("col-1").classList.add("col-1-selected"),L.currentTime,c=p,k(1)}function x(){document.getElementById("col-1").classList.remove("col-1-selected"),c=0}function C(){document.getElementById("col-2").classList.add("col-2-selected"),o=L.currentTime,l=p,k(2)}function M(){document.getElementById("col-2").classList.remove("col-2-selected"),console.log(o+" -> "+L.currentTime),l=0}function S(){document.getElementById("col-3").classList.add("col-3-selected"),d=L.currentTime,a=p,k(3)}function T(){document.getElementById("col-3").classList.remove("col-3-selected"),console.log(d+" -> "+L.currentTime),a=0}function A(){document.getElementById("col-4").classList.add("col-4-selected"),L.currentTime,s=p,k(4)}function j(){document.getElementById("col-4").classList.remove("col-4-selected"),s=0}function F(e){if(!e.repeat)switch(e.key.toLowerCase()){case"a":b();break;case"s":C();break;case"d":S();break;case"f":A();break;case" ":L.ended||L.paused?B():I()}}function q(e){"a"===e.key.toLowerCase()&&x(),"s"===e.key.toLowerCase()&&M(),"d"===e.key.toLowerCase()&&T(),"f"===e.key.toLowerCase()&&j()}window.onload=function(){w(),window.addEventListener("keydown",F),window.addEventListener("keyup",q),document.getElementById("col-1").addEventListener("touchstart",b),document.getElementById("col-1").addEventListener("touchend",x),document.getElementById("col-2").addEventListener("touchstart",C),document.getElementById("col-2").addEventListener("touchend",M),document.getElementById("col-3").addEventListener("touchstart",S),document.getElementById("col-3").addEventListener("touchend",T),document.getElementById("col-4").addEventListener("touchstart",A),document.getElementById("col-4").addEventListener("touchend",j),document.getElementById("play-button").addEventListener("click",B),window.addEventListener("resize",w,!1),window.addEventListener("orientationchange",w,!1)};
//# sourceMappingURL=index.0b694058.js.map
