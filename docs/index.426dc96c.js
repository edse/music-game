var e,t,n,o=0,d=0,c=0,l=0,a=0,s=0,r=null,i=null,u=null,m=null,y=504,g=0,E=0,h=0,f=0,v=0,L=null;function w(){L=document.getElementById("video"),k(),v=L.duration;var e=window.getComputedStyle(document.getElementById("vwvh"));g=Math.round(String(e.width).replace("px","")),String(e.height).replace("px","");var e=window.getComputedStyle(document.getElementById("timeline"));f=Math.round(String(e.width).replace("px",""));var e=window.getComputedStyle(document.querySelectorAll("#line")[0]);h=Math.round(String(e.top).replace("px","")),E-=y-h,y=h,document.getElementById("map").style.transform="translateY("+E+"px)"}function B(o){e=(o-t)/1e3,t=o,n=Math.round(1/e),document.getElementById("fps").innerText=n+" fps",p=100*L.currentTime/v,x=f/100*p-.75*g,document.getElementById("playhead").style.transform=`translate(${x}px, -35%)`,E+=7,document.getElementById("map").style.transform="translateY("+E+"px)",function(){if(0!==c&&r&&"object"==typeof r){var e=Math.round(E-c)+150;r.style.height=e+"px"}if(0!==l&&i&&"object"==typeof i){var e=Math.round(E-l)+150;i.style.height=e+"px"}if(0!==a&&u&&"object"==typeof u){var e=Math.round(E-a)+150;u.style.height=e+"px"}if(0!==s&&m&&"object"==typeof m){var e=Math.round(E-s)+150;m.style.height=e+"px"}}(),L.ended||L.paused?cancelAnimationFrame(B):requestAnimationFrame(B)}function I(){L.play(),document.getElementById("play-button").classList.add("hidden"),requestAnimationFrame(B)}function k(){L.pause(),cancelAnimationFrame(B)}function b(e){var t=document.createElement("div");switch(t.classList.add("block"),t.classList.add("player-block"),t.classList.add(`block-col-${e}`),t.style.bottom=Math.round(E-h-75)+"px",document.getElementById("map").appendChild(t),e){case 1:r=t;break;case 2:i=t;break;case 3:u=t;break;case 4:m=t}}function C(){document.getElementById("col-1").classList.add("col-1-selected"),L.currentTime,c=E,b(1)}function M(){document.getElementById("col-1").classList.remove("col-1-selected"),c=0}function S(){document.getElementById("col-2").classList.add("col-2-selected"),o=L.currentTime,l=E,b(2)}function T(){document.getElementById("col-2").classList.remove("col-2-selected"),console.log(o+" -> "+L.currentTime),l=0}function A(){document.getElementById("col-3").classList.add("col-3-selected"),d=L.currentTime,a=E,b(3)}function j(){document.getElementById("col-3").classList.remove("col-3-selected"),console.log(d+" -> "+L.currentTime),a=0}function F(){document.getElementById("col-4").classList.add("col-4-selected"),L.currentTime,s=E,b(4)}function q(){document.getElementById("col-4").classList.remove("col-4-selected"),s=0}function Y(e){if(!e.repeat)switch(e.key.toLowerCase()){case"a":C();break;case"s":S();break;case"d":A();break;case"f":F();break;case" ":L.ended||L.paused?I():k()}}function $(e){"a"===e.key.toLowerCase()&&M(),"s"===e.key.toLowerCase()&&T(),"d"===e.key.toLowerCase()&&j(),"f"===e.key.toLowerCase()&&q()}window.onload=function(){w(),window.addEventListener("keydown",Y),window.addEventListener("keyup",$),document.getElementById("col-1").addEventListener("touchstart",C),document.getElementById("col-1").addEventListener("touchend",M),document.getElementById("col-2").addEventListener("touchstart",S),document.getElementById("col-2").addEventListener("touchend",T),document.getElementById("col-3").addEventListener("touchstart",A),document.getElementById("col-3").addEventListener("touchend",j),document.getElementById("col-4").addEventListener("touchstart",F),document.getElementById("col-4").addEventListener("touchend",q),document.getElementById("play-button").addEventListener("click",I),window.addEventListener("resize",w,!1),window.addEventListener("orientationchange",w,!1)};
//# sourceMappingURL=index.426dc96c.js.map
