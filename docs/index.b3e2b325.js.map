{"mappings":"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","sources":["<anon>","src/js/main.js"],"sourcesContent":["var $54b47fc030b7b21e$exports = {};\nvar $54b47fc030b7b21e$var$levelMap = {\n    \"col-1\": [],\n    \"col-2\": [],\n    \"col-3\": [],\n    \"col-4\": []\n};\nvar $54b47fc030b7b21e$var$col1PressStartTime = 0;\nvar $54b47fc030b7b21e$var$col2PressStartTime = 0;\nvar $54b47fc030b7b21e$var$col3PressStartTime = 0;\nvar $54b47fc030b7b21e$var$col4PressStartTime = 0;\nvar $54b47fc030b7b21e$var$col1PressStartPosition = 0;\nvar $54b47fc030b7b21e$var$col2PressStartPosition = 0;\nvar $54b47fc030b7b21e$var$col3PressStartPosition = 0;\nvar $54b47fc030b7b21e$var$col4PressStartPosition = 0;\nvar $54b47fc030b7b21e$var$col1Block = null;\nvar $54b47fc030b7b21e$var$col2Block = null;\nvar $54b47fc030b7b21e$var$col3Block = null;\nvar $54b47fc030b7b21e$var$col4Block = null;\nvar $54b47fc030b7b21e$var$secondsPassed;\nvar $54b47fc030b7b21e$var$oldTimeStamp;\nvar $54b47fc030b7b21e$var$fps;\nvar $54b47fc030b7b21e$var$step = 7;\nvar $54b47fc030b7b21e$var$recordedmiddleOfScreen = 504;\nvar $54b47fc030b7b21e$var$vw = 0;\nvar $54b47fc030b7b21e$var$vh = 0;\nvar $54b47fc030b7b21e$var$currentPosition = 0;\nvar $54b47fc030b7b21e$var$blockInitialHeight = 150;\nvar $54b47fc030b7b21e$var$middleOfScreen = 0;\nvar $54b47fc030b7b21e$var$timelineWidth = 0;\nvar $54b47fc030b7b21e$var$videoDuration = 0;\nvar $54b47fc030b7b21e$var$video = null;\nfunction $54b47fc030b7b21e$var$init() {\n    $54b47fc030b7b21e$var$video = document.getElementById(\"video\");\n    $54b47fc030b7b21e$var$pauseVideo();\n    $54b47fc030b7b21e$var$videoDuration = $54b47fc030b7b21e$var$video.duration;\n    var c = window.getComputedStyle(document.getElementById(\"vwvh\"));\n    $54b47fc030b7b21e$var$vw = Math.round(String(c.width).replace(\"px\", \"\"));\n    $54b47fc030b7b21e$var$vh = Math.round(String(c.height).replace(\"px\", \"\"));\n    var c = window.getComputedStyle(document.getElementById(\"timeline\"));\n    $54b47fc030b7b21e$var$timelineWidth = Math.round(String(c.width).replace(\"px\", \"\"));\n    var c = window.getComputedStyle(document.querySelectorAll(\"#line\")[0]);\n    $54b47fc030b7b21e$var$middleOfScreen = Math.round(String(c.top).replace(\"px\", \"\"));\n    offset = $54b47fc030b7b21e$var$recordedmiddleOfScreen - $54b47fc030b7b21e$var$middleOfScreen;\n    $54b47fc030b7b21e$var$currentPosition = $54b47fc030b7b21e$var$currentPosition - offset;\n    $54b47fc030b7b21e$var$recordedmiddleOfScreen = $54b47fc030b7b21e$var$middleOfScreen;\n    document.getElementById(\"map\").style.transform = \"translateY(\" + $54b47fc030b7b21e$var$currentPosition + \"px)\";\n}\nfunction $54b47fc030b7b21e$var$showFps(timestamp) {\n    $54b47fc030b7b21e$var$secondsPassed = (timestamp - $54b47fc030b7b21e$var$oldTimeStamp) / 1000;\n    $54b47fc030b7b21e$var$oldTimeStamp = timestamp;\n    $54b47fc030b7b21e$var$fps = Math.round(1 / $54b47fc030b7b21e$var$secondsPassed);\n    document.getElementById(\"fps\").innerText = $54b47fc030b7b21e$var$fps + \" fps\";\n}\nfunction $54b47fc030b7b21e$var$updatePlayhead() {\n    p = 100 * $54b47fc030b7b21e$var$video.currentTime / $54b47fc030b7b21e$var$videoDuration;\n    x = $54b47fc030b7b21e$var$timelineWidth / 100 * p - 0.75 * $54b47fc030b7b21e$var$vw;\n    document.getElementById(\"playhead\").style.transform = `translate(${x}px, -35%)`;\n}\nfunction $54b47fc030b7b21e$var$gameLoop(timestamp) {\n    $54b47fc030b7b21e$var$showFps(timestamp);\n    $54b47fc030b7b21e$var$updatePlayhead();\n    $54b47fc030b7b21e$var$currentPosition = $54b47fc030b7b21e$var$currentPosition + $54b47fc030b7b21e$var$step;\n    document.getElementById(\"map\").style.transform = \"translateY(\" + $54b47fc030b7b21e$var$currentPosition + \"px)\";\n    $54b47fc030b7b21e$var$resizeBlocks();\n    if (!$54b47fc030b7b21e$var$video.ended && !$54b47fc030b7b21e$var$video.paused) requestAnimationFrame($54b47fc030b7b21e$var$gameLoop);\n    else cancelAnimationFrame($54b47fc030b7b21e$var$gameLoop);\n}\nfunction $54b47fc030b7b21e$var$playVideo() {\n    $54b47fc030b7b21e$var$video.play();\n    document.getElementById(\"play-button\").classList.add(\"hidden\");\n    requestAnimationFrame($54b47fc030b7b21e$var$gameLoop);\n}\nfunction $54b47fc030b7b21e$var$pauseVideo() {\n    $54b47fc030b7b21e$var$video.pause();\n    cancelAnimationFrame($54b47fc030b7b21e$var$gameLoop);\n}\nfunction $54b47fc030b7b21e$var$createBlock(col) {\n    var block = document.createElement(\"div\");\n    block.classList.add(\"block\");\n    block.classList.add(\"player-block\");\n    block.classList.add(`block-col-${col}`);\n    block.style.bottom = Math.round($54b47fc030b7b21e$var$currentPosition - $54b47fc030b7b21e$var$middleOfScreen - $54b47fc030b7b21e$var$blockInitialHeight / 2) + \"px\";\n    document.getElementById(\"map\").appendChild(block);\n    switch(col){\n        case 1:\n            $54b47fc030b7b21e$var$col1Block = block;\n            break;\n        case 2:\n            $54b47fc030b7b21e$var$col2Block = block;\n            break;\n        case 3:\n            $54b47fc030b7b21e$var$col3Block = block;\n            break;\n        case 4:\n            $54b47fc030b7b21e$var$col4Block = block;\n            break;\n    }\n}\nfunction $54b47fc030b7b21e$var$resizeBlocks() {\n    if ($54b47fc030b7b21e$var$col1PressStartPosition !== 0 && $54b47fc030b7b21e$var$col1Block) {\n        if (typeof $54b47fc030b7b21e$var$col1Block === \"object\") {\n            var h = Math.round($54b47fc030b7b21e$var$currentPosition - $54b47fc030b7b21e$var$col1PressStartPosition) + $54b47fc030b7b21e$var$blockInitialHeight;\n            $54b47fc030b7b21e$var$col1Block.style.height = h + \"px\";\n        }\n    }\n    if ($54b47fc030b7b21e$var$col2PressStartPosition !== 0 && $54b47fc030b7b21e$var$col2Block) {\n        if (typeof $54b47fc030b7b21e$var$col2Block === \"object\") {\n            var h = Math.round($54b47fc030b7b21e$var$currentPosition - $54b47fc030b7b21e$var$col2PressStartPosition) + $54b47fc030b7b21e$var$blockInitialHeight;\n            $54b47fc030b7b21e$var$col2Block.style.height = h + \"px\";\n        }\n    }\n    if ($54b47fc030b7b21e$var$col3PressStartPosition !== 0 && $54b47fc030b7b21e$var$col3Block) {\n        if (typeof $54b47fc030b7b21e$var$col3Block === \"object\") {\n            var h = Math.round($54b47fc030b7b21e$var$currentPosition - $54b47fc030b7b21e$var$col3PressStartPosition) + $54b47fc030b7b21e$var$blockInitialHeight;\n            $54b47fc030b7b21e$var$col3Block.style.height = h + \"px\";\n        }\n    }\n    if ($54b47fc030b7b21e$var$col4PressStartPosition !== 0 && $54b47fc030b7b21e$var$col4Block) {\n        if (typeof $54b47fc030b7b21e$var$col4Block === \"object\") {\n            var h = Math.round($54b47fc030b7b21e$var$currentPosition - $54b47fc030b7b21e$var$col4PressStartPosition) + $54b47fc030b7b21e$var$blockInitialHeight;\n            $54b47fc030b7b21e$var$col4Block.style.height = h + \"px\";\n        }\n    }\n}\nfunction $54b47fc030b7b21e$var$col1StartBlock() {\n    document.getElementById(\"col-1\").classList.add(\"col-1-selected\");\n    $54b47fc030b7b21e$var$col1PressStartTime = $54b47fc030b7b21e$var$video.currentTime;\n    $54b47fc030b7b21e$var$col1PressStartPosition = $54b47fc030b7b21e$var$currentPosition;\n    $54b47fc030b7b21e$var$createBlock(1);\n}\nfunction $54b47fc030b7b21e$var$col1EndBlock() {\n    document.getElementById(\"col-1\").classList.remove(\"col-1-selected\");\n    // console.log(col1PressStartTime + \" -> \" + video.currentTime)\n    $54b47fc030b7b21e$var$col1PressStartPosition = 0;\n}\nfunction $54b47fc030b7b21e$var$col2StartBlock() {\n    document.getElementById(\"col-2\").classList.add(\"col-2-selected\");\n    $54b47fc030b7b21e$var$col2PressStartTime = $54b47fc030b7b21e$var$video.currentTime;\n    $54b47fc030b7b21e$var$col2PressStartPosition = $54b47fc030b7b21e$var$currentPosition;\n    $54b47fc030b7b21e$var$createBlock(2);\n}\nfunction $54b47fc030b7b21e$var$col2EndBlock() {\n    document.getElementById(\"col-2\").classList.remove(\"col-2-selected\");\n    console.log($54b47fc030b7b21e$var$col2PressStartTime + \" -> \" + $54b47fc030b7b21e$var$video.currentTime);\n    $54b47fc030b7b21e$var$col2PressStartPosition = 0;\n}\nfunction $54b47fc030b7b21e$var$col3StartBlock() {\n    document.getElementById(\"col-3\").classList.add(\"col-3-selected\");\n    $54b47fc030b7b21e$var$col3PressStartTime = $54b47fc030b7b21e$var$video.currentTime;\n    $54b47fc030b7b21e$var$col3PressStartPosition = $54b47fc030b7b21e$var$currentPosition;\n    $54b47fc030b7b21e$var$createBlock(3);\n}\nfunction $54b47fc030b7b21e$var$col3EndBlock() {\n    document.getElementById(\"col-3\").classList.remove(\"col-3-selected\");\n    console.log($54b47fc030b7b21e$var$col3PressStartTime + \" -> \" + $54b47fc030b7b21e$var$video.currentTime);\n    $54b47fc030b7b21e$var$col3PressStartPosition = 0;\n}\nfunction $54b47fc030b7b21e$var$col4StartBlock() {\n    document.getElementById(\"col-4\").classList.add(\"col-4-selected\");\n    $54b47fc030b7b21e$var$col4PressStartTime = $54b47fc030b7b21e$var$video.currentTime;\n    $54b47fc030b7b21e$var$col4PressStartPosition = $54b47fc030b7b21e$var$currentPosition;\n    $54b47fc030b7b21e$var$createBlock(4);\n}\nfunction $54b47fc030b7b21e$var$col4EndBlock() {\n    document.getElementById(\"col-4\").classList.remove(\"col-4-selected\");\n    // console.log(col4PressStartTime + \" -> \" + video.currentTime)\n    $54b47fc030b7b21e$var$col4PressStartPosition = 0;\n}\nfunction $54b47fc030b7b21e$var$startBlock(e) {\n    if (e.repeat) return;\n    switch(e.key.toLowerCase()){\n        case \"a\":\n            $54b47fc030b7b21e$var$col1StartBlock();\n            break;\n        case \"s\":\n            $54b47fc030b7b21e$var$col2StartBlock();\n            break;\n        case \"d\":\n            $54b47fc030b7b21e$var$col3StartBlock();\n            break;\n        case \"f\":\n            $54b47fc030b7b21e$var$col4StartBlock();\n            break;\n        case \" \":\n            if ($54b47fc030b7b21e$var$video.ended || $54b47fc030b7b21e$var$video.paused) $54b47fc030b7b21e$var$playVideo();\n            else $54b47fc030b7b21e$var$pauseVideo();\n            break;\n    }\n}\nfunction $54b47fc030b7b21e$var$endBlock(e) {\n    if (e.key.toLowerCase() === \"a\") $54b47fc030b7b21e$var$col1EndBlock();\n    if (e.key.toLowerCase() === \"s\") $54b47fc030b7b21e$var$col2EndBlock();\n    if (e.key.toLowerCase() === \"d\") $54b47fc030b7b21e$var$col3EndBlock();\n    if (e.key.toLowerCase() === \"f\") $54b47fc030b7b21e$var$col4EndBlock();\n}\nwindow.onload = function() {\n    $54b47fc030b7b21e$var$init();\n    // key press\n    window.addEventListener(\"keydown\", $54b47fc030b7b21e$var$startBlock);\n    window.addEventListener(\"keyup\", $54b47fc030b7b21e$var$endBlock);\n    // touch\n    document.getElementById(\"col-1\").addEventListener(\"touchstart\", $54b47fc030b7b21e$var$col1StartBlock);\n    document.getElementById(\"col-1\").addEventListener(\"touchend\", $54b47fc030b7b21e$var$col1EndBlock);\n    document.getElementById(\"col-2\").addEventListener(\"touchstart\", $54b47fc030b7b21e$var$col2StartBlock);\n    document.getElementById(\"col-2\").addEventListener(\"touchend\", $54b47fc030b7b21e$var$col2EndBlock);\n    document.getElementById(\"col-3\").addEventListener(\"touchstart\", $54b47fc030b7b21e$var$col3StartBlock);\n    document.getElementById(\"col-3\").addEventListener(\"touchend\", $54b47fc030b7b21e$var$col3EndBlock);\n    document.getElementById(\"col-4\").addEventListener(\"touchstart\", $54b47fc030b7b21e$var$col4StartBlock);\n    document.getElementById(\"col-4\").addEventListener(\"touchend\", $54b47fc030b7b21e$var$col4EndBlock);\n    // click\n    document.getElementById(\"play-button\").addEventListener(\"click\", $54b47fc030b7b21e$var$playVideo);\n    // resize\n    window.addEventListener(\"resize\", $54b47fc030b7b21e$var$init, false);\n    window.addEventListener(\"orientationchange\", $54b47fc030b7b21e$var$init, false);\n};\n\n\n//# sourceMappingURL=index.b3e2b325.js.map\n","var levelMap = {\n    \"col-1\": [],\n    \"col-2\": [],\n    \"col-3\": [],\n    \"col-4\": [],\n}\n\nvar col1PressStartTime = 0;\nvar col2PressStartTime = 0;\nvar col3PressStartTime = 0;\nvar col4PressStartTime = 0;\n\nvar col1PressStartPosition = 0;\nvar col2PressStartPosition = 0;\nvar col3PressStartPosition = 0;\nvar col4PressStartPosition = 0;\n\nvar col1Block = null;\nvar col2Block = null;\nvar col3Block = null;\nvar col4Block = null;\n\nvar secondsPassed;\nvar oldTimeStamp;\nvar fps;\n\nvar step = 7;\nvar recordedmiddleOfScreen = 504;\nvar vw = 0;\nvar vh = 0;\n\nvar currentPosition = 0;\nvar blockInitialHeight = 150;\nvar middleOfScreen = 0;\nvar timelineWidth = 0;\nvar videoDuration = 0;\n\nvar video = null;\n\nfunction init() {\n    video = document.getElementById(\"video\");\n    pauseVideo();\n\n    videoDuration = video.duration;\n\n    var c = window.getComputedStyle(document.getElementById(\"vwvh\"));\n    vw = Math.round(String(c.width).replace(\"px\", \"\"));\n    vh = Math.round(String(c.height).replace(\"px\", \"\"));\n\n    var c = window.getComputedStyle(document.getElementById(\"timeline\"));\n    timelineWidth = Math.round(String(c.width).replace(\"px\", \"\"));\n\n    var c = window.getComputedStyle(document.querySelectorAll(\"#line\")[0]);\n    middleOfScreen = Math.round(String(c.top).replace(\"px\", \"\"));\n\n    offset = recordedmiddleOfScreen - middleOfScreen;\n    currentPosition = currentPosition - offset;\n    recordedmiddleOfScreen = middleOfScreen;\n\n    document.getElementById(\"map\").style.transform = \"translateY(\" + (currentPosition) + \"px)\";\n}\n\nfunction showFps(timestamp) {\n    secondsPassed = (timestamp - oldTimeStamp) / 1000;\n    oldTimeStamp = timestamp;\n    fps = Math.round(1 / secondsPassed);\n    document.getElementById(\"fps\").innerText = fps + \" fps\"\n}\n\nfunction updatePlayhead() {\n    p = (100 * video.currentTime) / videoDuration;\n    x = ((timelineWidth / 100) * p) - (0.75 * vw);\n    document.getElementById(\"playhead\").style.transform = `translate(${x}px, -35%)`;\n}\n\nfunction gameLoop(timestamp) {\n    showFps(timestamp);\n    updatePlayhead();\n\n    currentPosition = currentPosition + step;\n    document.getElementById(\"map\").style.transform = \"translateY(\" + currentPosition + \"px)\";\n\n    resizeBlocks();\n\n    if (!video.ended && !video.paused) {\n        requestAnimationFrame(gameLoop);\n    } else {\n        cancelAnimationFrame(gameLoop);\n    }\n}\n\nfunction playVideo() {\n    video.play()\n    document.getElementById(\"play-button\").classList.add(\"hidden\");\n    requestAnimationFrame(gameLoop);\n}\n\nfunction pauseVideo() {\n    video.pause();\n    cancelAnimationFrame(gameLoop);\n}\n\nfunction createBlock(col) {\n    var block = document.createElement('div');\n    block.classList.add(\"block\");\n    block.classList.add(\"player-block\");\n    block.classList.add(`block-col-${col}`);  \n    block.style.bottom = Math.round(currentPosition - middleOfScreen - (blockInitialHeight / 2)) + \"px\"\n    document.getElementById(\"map\").appendChild(block);\n\n    switch (col) {\n        case 1:\n            col1Block = block;\n            break;\n        case 2:\n            col2Block = block;\n            break;\n        case 3:\n            col3Block = block;\n            break;\n        case 4:\n            col4Block = block;\n            break;\n    }\n}\n\nfunction resizeBlocks() {\n    if (col1PressStartPosition !== 0 && col1Block) {\n        if (typeof (col1Block) === \"object\") {\n            var h = Math.round(currentPosition - col1PressStartPosition) + blockInitialHeight;\n            col1Block.style.height = h + \"px\";\n        }\n    }\n    if (col2PressStartPosition !== 0 && col2Block) {\n        if (typeof (col2Block) === \"object\") {\n            var h = Math.round(currentPosition - col2PressStartPosition) + blockInitialHeight;\n            col2Block.style.height = h + \"px\";\n        }\n    }\n    if (col3PressStartPosition !== 0 && col3Block) {\n        if (typeof (col3Block) === \"object\") {\n            var h = Math.round(currentPosition - col3PressStartPosition) + blockInitialHeight;\n            col3Block.style.height = h + \"px\";\n        }\n    }\n    if (col4PressStartPosition !== 0 && col4Block) {\n        if (typeof (col4Block) === \"object\") {\n            var h = Math.round(currentPosition - col4PressStartPosition) + blockInitialHeight;\n            col4Block.style.height = h + \"px\";\n        }\n    }\n}\n\nfunction col1StartBlock() {\n    document.getElementById(\"col-1\").classList.add(\"col-1-selected\");\n    col1PressStartTime = video.currentTime;\n    col1PressStartPosition = currentPosition;\n    createBlock(1);\n}\n\nfunction col1EndBlock() {\n    document.getElementById(\"col-1\").classList.remove(\"col-1-selected\");\n    // console.log(col1PressStartTime + \" -> \" + video.currentTime)\n    col1PressStartPosition = 0\n}\n\nfunction col2StartBlock() {\n    document.getElementById(\"col-2\").classList.add(\"col-2-selected\");\n    col2PressStartTime = video.currentTime\n    col2PressStartPosition = currentPosition\n    createBlock(2);\n}\n\nfunction col2EndBlock() {\n    document.getElementById(\"col-2\").classList.remove(\"col-2-selected\");\n    console.log(col2PressStartTime + \" -> \" + video.currentTime)\n    col2PressStartPosition = 0\n}\n\nfunction col3StartBlock() {\n    document.getElementById(\"col-3\").classList.add(\"col-3-selected\");\n    col3PressStartTime = video.currentTime\n    col3PressStartPosition = currentPosition\n    createBlock(3);\n}\n\nfunction col3EndBlock() {\n    document.getElementById(\"col-3\").classList.remove(\"col-3-selected\");\n    console.log(col3PressStartTime + \" -> \" + video.currentTime)\n    col3PressStartPosition = 0\n}\n\nfunction col4StartBlock() {\n    document.getElementById(\"col-4\").classList.add(\"col-4-selected\");\n    col4PressStartTime = video.currentTime\n    col4PressStartPosition = currentPosition\n    createBlock(4);\n}\n\nfunction col4EndBlock() {\n    document.getElementById(\"col-4\").classList.remove(\"col-4-selected\");\n    // console.log(col4PressStartTime + \" -> \" + video.currentTime)\n    col4PressStartPosition = 0\n}\n\nfunction startBlock(e) {\n    if (e.repeat) {\n        return;\n    }\n    switch (e.key.toLowerCase()) {\n        case \"a\":\n            col1StartBlock();\n            break;\n        case \"s\":\n            col2StartBlock();\n            break;\n        case \"d\":\n            col3StartBlock();\n            break;\n        case \"f\":\n            col4StartBlock();\n            break;\n        case \" \":\n            if (video.ended || video.paused) {\n                playVideo();\n            } else {\n                pauseVideo();\n            }\n            break;\n    }\n}\n\nfunction endBlock(e) {\n    if (e.key.toLowerCase() === \"a\") {\n        col1EndBlock()\n    }\n    if (e.key.toLowerCase() === \"s\") {\n        col2EndBlock()\n    }\n    if (e.key.toLowerCase() === \"d\") {\n        col3EndBlock()\n    }\n    if (e.key.toLowerCase() === \"f\") {\n        col4EndBlock()\n    }\n}\n\nwindow.onload = function() {\n    init();\n\n    // key press\n    window.addEventListener(\"keydown\", startBlock);\n    window.addEventListener(\"keyup\", endBlock);\n\n    // touch\n    document.getElementById(\"col-1\").addEventListener(\"touchstart\", col1StartBlock);\n    document.getElementById(\"col-1\").addEventListener(\"touchend\", col1EndBlock);\n    document.getElementById(\"col-2\").addEventListener(\"touchstart\", col2StartBlock);\n    document.getElementById(\"col-2\").addEventListener(\"touchend\", col2EndBlock);\n    document.getElementById(\"col-3\").addEventListener(\"touchstart\", col3StartBlock);\n    document.getElementById(\"col-3\").addEventListener(\"touchend\", col3EndBlock);\n    document.getElementById(\"col-4\").addEventListener(\"touchstart\", col4StartBlock);\n    document.getElementById(\"col-4\").addEventListener(\"touchend\", col4EndBlock);\n\n    // click\n    document.getElementById(\"play-button\").addEventListener(\"click\", playVideo);\n\n    // resize\n    window.addEventListener('resize', init, false);\n    window.addEventListener('orientationchange', init, false);\n}\n"],"names":["$54b47fc030b7b21e$var$secondsPassed","$54b47fc030b7b21e$var$oldTimeStamp","$54b47fc030b7b21e$var$fps","$54b47fc030b7b21e$var$col2PressStartTime","$54b47fc030b7b21e$var$col3PressStartTime","$54b47fc030b7b21e$var$col1PressStartPosition","$54b47fc030b7b21e$var$col2PressStartPosition","$54b47fc030b7b21e$var$col3PressStartPosition","$54b47fc030b7b21e$var$col4PressStartPosition","$54b47fc030b7b21e$var$col1Block","$54b47fc030b7b21e$var$col2Block","$54b47fc030b7b21e$var$col3Block","$54b47fc030b7b21e$var$col4Block","$54b47fc030b7b21e$var$recordedmiddleOfScreen","$54b47fc030b7b21e$var$vw","$54b47fc030b7b21e$var$currentPosition","$54b47fc030b7b21e$var$middleOfScreen","$54b47fc030b7b21e$var$timelineWidth","$54b47fc030b7b21e$var$videoDuration","$54b47fc030b7b21e$var$video","$54b47fc030b7b21e$var$init","document","getElementById","$54b47fc030b7b21e$var$pauseVideo","duration","c","window","getComputedStyle","Math","round","String","width","replace","height","querySelectorAll","top","offset","style","transform","$54b47fc030b7b21e$var$gameLoop","timestamp","innerText","p","currentTime","x","$54b47fc030b7b21e$var$resizeBlocks","h","ended","paused","cancelAnimationFrame","requestAnimationFrame","$54b47fc030b7b21e$var$playVideo","play","classList","add","pause","$54b47fc030b7b21e$var$createBlock","col","block","createElement","bottom","$54b47fc030b7b21e$var$blockInitialHeight","appendChild","$54b47fc030b7b21e$var$col1StartBlock","$54b47fc030b7b21e$var$col1EndBlock","remove","$54b47fc030b7b21e$var$col2StartBlock","$54b47fc030b7b21e$var$col2EndBlock","console","log","$54b47fc030b7b21e$var$col3StartBlock","$54b47fc030b7b21e$var$col3EndBlock","$54b47fc030b7b21e$var$col4StartBlock","$54b47fc030b7b21e$var$col4EndBlock","$54b47fc030b7b21e$var$startBlock","e","repeat","key","toLowerCase","$54b47fc030b7b21e$var$endBlock","onload","addEventListener"],"version":3,"file":"index.b3e2b325.js.map"}