var e,t,n,c=0,o=0,d=0,l=0,s=0,a=0,u=0,m=0,i=null,r=null,y=null,E=null,g=0,h=0,f=document.getElementById("video");function v(c){e=(c-t)/1e3,t=c,n=Math.round(1/e),document.getElementById("fps").innerText=n+" fps",g+=7,document.getElementById("map").style.transform="translateY("+g+"px)",function(){if(0!==s&&i&&"object"==typeof i){var e=Math.round(g-s)+h;i.style.height=e+"px"}if(0!==a&&r&&"object"==typeof r){var e=Math.round(g-a)+h;r.style.height=e+"px"}if(0!==u&&y&&"object"==typeof y){var e=Math.round(g-u)+h;y.style.height=e+"px"}if(0!==m&&E&&"object"==typeof E){var e=Math.round(g-m)+h;E.style.height=e+"px"}}(),f.ended||f.paused||requestAnimationFrame(v)}function p(){document.getElementById("video").play(),document.getElementById("play-button").classList.add("hidden"),requestAnimationFrame(v)}function B(e){var t=document.createElement("div");switch(t.classList.add("block"),t.classList.add(`block-col-${e}`),t.style.bottom=Math.round(g-screen.height/2)+"px",document.getElementById("map").appendChild(t),e){case 1:i=t;break;case 2:r=t;break;case 3:y=t;break;case 4:E=t}}function I(){document.getElementById("col-1").classList.add("col-1-selected"),c=f.currentTime,s=g,B(1)}function L(){document.getElementById("col-1").classList.remove("col-1-selected"),console.log(c+" -> "+f.currentTime),s=0}function k(){document.getElementById("col-2").classList.add("col-2-selected"),o=f.currentTime,a=g,B(2)}function b(){document.getElementById("col-2").classList.remove("col-2-selected"),console.log(o+" -> "+f.currentTime),a=0}function T(){document.getElementById("col-3").classList.add("col-3-selected"),d=f.currentTime,u=g,B(3)}function x(){document.getElementById("col-3").classList.remove("col-3-selected"),console.log(d+" -> "+f.currentTime),u=0}function M(){document.getElementById("col-4").classList.add("col-4-selected"),l=f.currentTime,m=g,B(4)}function w(){document.getElementById("col-4").classList.remove("col-4-selected"),console.log(l+" -> "+f.currentTime),m=0}function j(e){if(!e.repeat)switch(e.key.toLowerCase()){case"a":I();break;case"s":k();break;case"d":T();break;case"f":M();break;case" ":document.getElementById("video").pause()}}function C(e){"a"===e.key&&L(),"s"===e.key&&b(),"d"===e.key&&x(),"f"===e.key&&w()}document.addEventListener("DOMContentLoaded",function(){var e;f=document.getElementById("video"),e=document.querySelectorAll(".block-col-1")[0],h=Math.round(String(window.getComputedStyle(e).height).replace("px","")),document.addEventListener("keydown",j),document.addEventListener("keyup",C),document.getElementById("col-1").addEventListener("touchstart",I),document.getElementById("col-1").addEventListener("touchend",L),document.getElementById("col-2").addEventListener("touchstart",k),document.getElementById("col-2").addEventListener("touchend",b),document.getElementById("col-3").addEventListener("touchstart",T),document.getElementById("col-3").addEventListener("touchend",x),document.getElementById("col-4").addEventListener("touchstart",M),document.getElementById("col-4").addEventListener("touchend",w),document.getElementById("play-button").addEventListener("click",p)});
//# sourceMappingURL=index.1e247aca.js.map
